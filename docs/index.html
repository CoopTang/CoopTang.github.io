<!DOCTYPE html>
<html>
  <head>
    <title>Word Watch ðŸ‘€</title>
    <script src="bundle.js"></script>
    <meta name="viewport" content="width=device-width"/>
  </head>
  <body>
    <main>
      <section class="text-submission">
        <h2 tabindex="0">Word <span>Watch</span> ðŸ‘€</h2>
        <textarea placeholder="Paste text here"></textarea>
        <button>Break down</button>
      </section>

      <section class="word-data" tabindex="0">
        <article class="top-word">
          <h3>Top word from Word Watch API: </h3>
        </article>
        <article class="word-count" tabindex="0" id="word_count">
        </article>
      </section>
    </main>
    <script>
      async function getTopWord() {
        const url = new URL("https://wordwatch-api.herokuapp.com/api/v1/top_word")
        return await fetch(url.href)
          .then(data => { return data.json(); })
          .catch(reason => { console.log(reason.message) });
      }

      async function updateWordBox() {
        let response = await getTopWord()
        let word = Object.keys(response.word);
        let value = Object.values(response.word);

        document.getElementById("word_count").innerHTML = `${word}: ${value}`
      }

      setInterval(updateWordBox, 1000)
    </script>
  </body>
</html>

